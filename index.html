<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Space Shooter</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- HEADER -->
    <header id="header" role="banner">
      <div class="header-inner">
        <div id="logo">
          <img src="img/logo.png" alt="Logo" />
        </div>
        <div id="header-title">SPACE SHOOTER</div>

        <!-- Tombol Update Log -->
        <button id="btnUpdateLog">Update Log</button>
      </div>
    </header>

    <!-- MAIN SECTION -->
    <main id="main" role="main">
      <div id="container">
        <!-- Panel Buff KIRI -->
        <div id="buffPanel">
          <h2>Active Buffs</h2>
          <div id="buffGrid"></div>
          <div id="buffTooltip" class="hidden"></div>
        </div>

        <!-- GAME CANVAS TENGAH -->
        <div id="gameWrapper">
          <canvas id="game" width="720" height="480"></canvas>
          <!-- COPYRIGHT -->
          <div id="copyright">Frederick Kinton - Ariq ¬© 2025</div>
        </div>

        <!-- SIDEBAR KANAN -->
        <div id="sidebar">
          <h2>Stats</h2>
          <div class="stat">
            <h3>Score</h3>
            <div id="score" class="big">0</div>
          </div>
          <div class="stat">
            <h3>High Score</h3>
            <div id="highscore" class="big">0</div>
          </div>
          <div class="stat">
            <h3>Lives</h3>
            <div id="lives" class="big">3</div>
          </div>
          <div class="stat">
            <h3>Level</h3>
            <div id="level" class="big">1</div>
          </div>
          <div class="stat">
            <h3>Remaining</h3>
            <div id="remaining" class="big">0</div>
          </div>
          <div id="controls">
            <button id="btnStart">Start</button>
            <button id="btnReset">Reset</button>
          </div>
        </div>
      </div>
    </main>

    <!-- MODAL UPDATE LOG -->
    <div id="updateLogModal" class="hidden">
      <div class="modal-content">
        <h2>Update Log 1.0!</h2>
        <ul>
          <p>
            Welcome! We hope you'd enjoy the game, the first launch features:
          </p>
          <li>üöÄ New buff system with icons & animations</li>
          <li>üõ°Ô∏è Added Shield & Rocket Launcher mechanics</li>
          <li>üéµ Retro sound effects embedded</li>
          <li>üìå UI improvements</li>
          <p>Real game soon? üëÄ</p>
        </ul>
        <button id="btnCloseUpdateLog">Close</button>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("updateLogModal");
        const btnOpen = document.getElementById("btnUpdateLog");
        const btnClose = document.getElementById("btnCloseUpdateLog");

        function openModal() {
          modal.classList.remove("hidden", "fade-out");
          void modal.offsetWidth; // reset animasi
          modal.classList.add("fade-in");
        }

        function closeModal() {
          modal.classList.remove("fade-in");
          modal.classList.add("fade-out");
          // tunggu animasi selesai baru hidden
          setTimeout(() => {
            modal.classList.add("hidden");
          }, 400);
        }

        btnOpen.addEventListener("click", openModal);
        btnClose.addEventListener("click", closeModal);

        // Klik area gelap untuk tutup
        modal.addEventListener("click", (e) => {
          if (e.target === modal) closeModal();
        });

        // Auto show sekali saat pertama kali buka
        if (!localStorage.getItem("updateLogShown")) {
          openModal();
          localStorage.setItem("updateLogShown", "true");
        }
      });
    </script>
  </body>
</html>
